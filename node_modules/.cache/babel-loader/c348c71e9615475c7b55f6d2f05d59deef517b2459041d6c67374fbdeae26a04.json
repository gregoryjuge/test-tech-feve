{"ast":null,"code":"var _jsxFileName = \"/Users/gregoryjuge/projetspro/feve/test-tech-feve/src/components/DepartementAverage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DepartementAverage() {\n  _s();\n  const {\n    departement\n  } = useParams();\n  const [average, setAverage] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      const requestBody = {\n        features: {\n          code_postal: departement + \"000\",\n          code_departement: departement,\n          date_mutation_year: 2022,\n          surface_reelle_bati: 0,\n          nombre_pieces_principales: 0,\n          longitude: null,\n          latitude: null,\n          surface_terrain: 137000,\n          surface_terrain_artificialise: 0,\n          surface_terrain_naturel: 0,\n          surface_terrain_vergers: 0,\n          surface_terrain_vignes: 0,\n          surface_terrain_terresetpres: 137000\n        }\n      };\n      try {\n        const response = await axios.post(\"https://dataiku-api.vercel.app/predict\", requestBody);\n        setAverage(response.data.result.prediction);\n      } catch (error) {\n        console.error(\"Error fetching average value:\", error);\n      }\n    };\n    fetchData();\n  }, [departement]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-testid\": \"departement-average\",\n    className: \"m-4 text-center\",\n    children: average !== null ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg font-semibold text-primary-500\",\n      children: [\"La valeur moyenne dans le d\\xE9partement \", departement, \" est de\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-secondary-600\",\n        children: [Math.round(average), \" \\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 italic\",\n      children: \"Calcul de la valeur moyenne en cours...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(DepartementAverage, \"2fONbhJnOEezqBLwenlXKX96m28=\", false, function () {\n  return [useParams];\n});\n_c = DepartementAverage;\nexport default DepartementAverage;\nvar _c;\n$RefreshReg$(_c, \"DepartementAverage\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","jsxDEV","_jsxDEV","DepartementAverage","_s","departement","average","setAverage","fetchData","requestBody","features","code_postal","code_departement","date_mutation_year","surface_reelle_bati","nombre_pieces_principales","longitude","latitude","surface_terrain","surface_terrain_artificialise","surface_terrain_naturel","surface_terrain_vergers","surface_terrain_vignes","surface_terrain_terresetpres","response","post","data","result","prediction","error","console","className","children","Math","round","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/gregoryjuge/projetspro/feve/test-tech-feve/src/components/DepartementAverage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nfunction DepartementAverage() {\n  const { departement } = useParams();\n  const [average, setAverage] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const requestBody = {\n        features: {\n          code_postal: departement + \"000\",\n          code_departement: departement,\n          date_mutation_year: 2022,\n          surface_reelle_bati: 0,\n          nombre_pieces_principales: 0,\n          longitude: null,\n          latitude: null,\n          surface_terrain: 137000,\n          surface_terrain_artificialise: 0,\n          surface_terrain_naturel: 0,\n          surface_terrain_vergers: 0,\n          surface_terrain_vignes: 0,\n          surface_terrain_terresetpres: 137000,\n        },\n      };\n\n      try {\n        const response = await axios.post(\n          \"https://dataiku-api.vercel.app/predict\",\n          requestBody\n        );\n        setAverage(response.data.result.prediction);\n      } catch (error) {\n        console.error(\"Error fetching average value:\", error);\n      }\n    };\n    fetchData();\n  }, [departement]);\n\n  return (\n    <div data-testid=\"departement-average\" className=\"m-4 text-center\">\n      {average !== null ? (\n        <p className=\"text-lg font-semibold text-primary-500\">\n          La valeur moyenne dans le département {departement} est de{\" \"}\n          <span className=\"text-secondary-600\">{Math.round(average)} €</span>.\n        </p>\n      ) : (\n        <p className=\"text-gray-500 italic\">\n          Calcul de la valeur moyenne en cours...\n        </p>\n      )}\n    </div>\n  );\n}\nexport default DepartementAverage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,SAASC,kBAAkBA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM;IAAEC;EAAY,CAAC,GAAGL,SAAS,EAAE;EACnC,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMU,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAMC,WAAW,GAAG;QAClBC,QAAQ,EAAE;UACRC,WAAW,EAAEN,WAAW,GAAG,KAAK;UAChCO,gBAAgB,EAAEP,WAAW;UAC7BQ,kBAAkB,EAAE,IAAI;UACxBC,mBAAmB,EAAE,CAAC;UACtBC,yBAAyB,EAAE,CAAC;UAC5BC,SAAS,EAAE,IAAI;UACfC,QAAQ,EAAE,IAAI;UACdC,eAAe,EAAE,MAAM;UACvBC,6BAA6B,EAAE,CAAC;UAChCC,uBAAuB,EAAE,CAAC;UAC1BC,uBAAuB,EAAE,CAAC;UAC1BC,sBAAsB,EAAE,CAAC;UACzBC,4BAA4B,EAAE;QAChC;MACF,CAAC;MAED,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,IAAI,CAC/B,wCAAwC,EACxChB,WAAW,CACZ;QACDF,UAAU,CAACiB,QAAQ,CAACE,IAAI,CAACC,MAAM,CAACC,UAAU,CAAC;MAC7C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACvD;IACF,CAAC;IACDrB,SAAS,EAAE;EACb,CAAC,EAAE,CAACH,WAAW,CAAC,CAAC;EAEjB,oBACEH,OAAA;IAAK,eAAY,qBAAqB;IAAC6B,SAAS,EAAC,iBAAiB;IAAAC,QAAA,EAC/D1B,OAAO,KAAK,IAAI,gBACfJ,OAAA;MAAG6B,SAAS,EAAC,wCAAwC;MAAAC,QAAA,GAAC,2CACd,EAAC3B,WAAW,EAAC,SAAO,EAAC,GAAG,eAC9DH,OAAA;QAAM6B,SAAS,EAAC,oBAAoB;QAAAC,QAAA,GAAEC,IAAI,CAACC,KAAK,CAAC5B,OAAO,CAAC,EAAC,SAAE;MAAA;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAO,KACrE;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAI,gBAEJpC,OAAA;MAAG6B,SAAS,EAAC,sBAAsB;MAAAC,QAAA,EAAC;IAEpC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACD;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEV;AAAClC,EAAA,CAnDQD,kBAAkB;EAAA,QACDH,SAAS;AAAA;AAAAuC,EAAA,GAD1BpC,kBAAkB;AAoD3B,eAAeA,kBAAkB;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}